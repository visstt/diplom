import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();

async function main() {
  // Clear existing data
  await prisma.product.deleteMany();
  await prisma.service.deleteMany();

  // Seed products - 1C software and services
  const products = [
    {
      name: "1С:Бухгалтерия",
      price: 4400,
      image: "/uploads/1c-accounting.png",
      description:
        "Полный контроль финансовой деятельности компании: от операций с денежными средствами до расчета налогов и сдачи регламентированной отчетности.",
      category: "Бухгалтерский учет",
      variants: ["Базовая", "ПРОФ", "КОРП"],
      benefits: [
        "Строгое соответствие законодательству",
        "Подходит юрлицам на УСН, ПСН, ОСНО",
        "Автоматическая сдача отчетности",
      ],
      features: [
        "Учет и отчетность",
        "Управление финансовыми ресурсами",
        "Работа с контрагентами",
        "Банк и касса",
      ],
    },
    {
      name: "1С:Управление торговлей",
      price: 9700,
      image: "/uploads/1c-trade.png",
      description:
        "Комплексная автоматизация торговых операций: от закупки до розничной и оптовой торговли, управление складом и взаимоотношениями с клиентами.",
      category: "Торговый учет",
      variants: ["Базовая", "ПРОФ", "КОРП"],
      benefits: [
        "Автоматизация торговых операций",
        "Управление складом",
        "CRM система",
        "Интеграция с интернет-магазинами",
      ],
      features: [
        "Управление закупками и продажами",
        "Складской учет",
        "Ценообразование",
        "Работа с маркетплейсами",
      ],
    },
    {
      name: "1С:Зарплата и управление персоналом",
      price: 15800,
      image: "/uploads/1c-zup.png",
      description:
        "Решение для автоматизации расчета зарплаты, учета кадров, управления персоналом. Полное соответствие трудовому законодательству РФ.",
      category: "Кадровый учет",
      variants: ["Базовая", "ПРОФ", "КОРП"],
      benefits: [
        "Расчет зарплаты любой сложности",
        "Кадровый учет",
        "Табель учета рабочего времени",
        "Электронные трудовые книжки",
      ],
      features: [
        "Начисление зарплаты и взносов",
        "Кадровое делопроизводство",
        "Отчетность в фонды",
        "Управление персоналом",
      ],
    },
    {
      name: "1С:ERP Управление предприятием",
      price: 180000,
      image: "/uploads/1c-erp.png",
      description:
        "Комплексное решение для автоматизации всех бизнес-процессов предприятия: производство, логистика, финансы, персонал.",
      category: "ERP системы",
      variants: ["Базовая", "Расширенная"],
      benefits: [
        "Управление производством",
        "Финансовый контроллинг",
        "Управление проектами",
        "Бизнес-аналитика",
      ],
      features: [
        "Производственное планирование",
        "Управление цепочками поставок",
        "Бюджетирование",
        "Казначейство",
      ],
    },
    {
      name: "1С:Документооборот",
      price: 55300,
      image: "/uploads/1c-document.png",
      description:
        "Система электронного документооборота для организации работы с документами, контроля исполнительской дисциплины и автоматизации бизнес-процессов.",
      category: "Делопроизводство",
      variants: ["Базовая", "ПРОФ", "КОРП"],
      benefits: [
        "Электронный архив документов",
        "Маршруты согласования",
        "Интеграция с ЭДО",
        "Работа с договорами",
      ],
      features: [
        "Управление документами",
        "Бизнес-процессы",
        "Электронная подпись",
        "Контроль исполнения",
      ],
    },
    {
      name: "1С:CRM",
      price: 42000,
      image: "/uploads/1c-crm.png",
      description:
        "Система управления взаимоотношениями с клиентами для увеличения продаж, оптимизации маркетинга и улучшения клиентского сервиса.",
      category: "CRM системы",
      variants: ["Базовая", "ПРОФ", "КОРП"],
      benefits: [
        "Управление продажами",
        "Автоматизация маркетинга",
        "Телефония и email",
        "Аналитика продаж",
      ],
      features: [
        "Воронка продаж",
        "База клиентов",
        "Email-маркетинг",
        "Отчеты и аналитика",
      ],
    },
    {
      name: "Консультация по внедрению 1С",
      price: 3500,
      image: "/uploads/1c-accounting.png",
      description:
        "Профессиональная консультация по выбору и внедрению программных продуктов 1С. Помощь в настройке и обучении сотрудников.",
      category: "Услуги",
      variants: ["1 час", "4 часа", "8 часов"],
      benefits: [
        "Экспертная оценка потребностей",
        "Рекомендации по выбору решения",
        "План внедрения",
        "Обучение персонала",
      ],
      features: [
        "Анализ бизнес-процессов",
        "Подбор конфигурации",
        "Техническая консультация",
        "Методическая поддержка",
      ],
    },
  ];

  for (const product of products) {
    await prisma.product.create({
      data: product,
    });
  }

  // Seed services
  const services = [
    {
      name: "Установка 1С",
      price: 45000,
      description:
        "Проводим полную установку 1С на вашем сервере или рабочем месте.",
    },
    {
      name: "Настройка 1С",
      price: 40000,
      description:
        "Настроим 1С под ваши бизнес-процессы, оптимизация и настройка всех необходимых функций.",
    },
    {
      name: "Консультация по внедрению 1С",
      price: 3500,
      description:
        "Профессиональная консультация по выбору и внедрению программных продуктов 1С. Помощь в настройке и обучении сотрудников.",
    },
    {
      name: "Обновление 1С",
      price: 8000,
      description:
        "Обновление программных продуктов 1С до актуальных версий с сохранением всех данных и настроек.",
    },
    {
      name: "Техническая поддержка 1С",
      price: 25000,
      description:
        "Ежемесячная техническая поддержка: консультации, решение проблем, обновления и настройка конфигураций.",
    },
    {
      name: "Обучение работе с 1С",
      price: 15000,
      description:
        "Комплексное обучение сотрудников работе с программными продуктами 1С. Индивидуальный или групповой формат.",
    },
    {
      name: "Миграция данных в 1С",
      price: 35000,
      description:
        "Перенос данных из других учетных систем в 1С с сохранением структуры и целостности информации.",
    },
    {
      name: "Доработка конфигурации 1С",
      price: 50000,
      description:
        "Индивидуальная доработка конфигураций 1С под специфические требования вашего бизнеса.",
    },
  ];

  for (const service of services) {
    await prisma.service.create({
      data: service,
    });
  }

  console.log("Database seeded successfully!");
}

main()
  .catch((e) => {
    console.error(e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
